<div class="auth-container">
  <div class="auth-card">
    <div class="logo-wrapper">
    <div class="logo-container">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2">
          <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
      </svg>
    </div>
    </div>

    <h1 class="auth-title">Create Account</h1>
    <p class="auth-subtitle">Join Med-Connect to manage your health</p>

    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="auth-form">
      <div class="form-group">
        <label for="firstName" class="form-label">Firstname</label>
        <input
          type="text"
          id="firstName"
          formControlName="firstName"
          class="form-input"
          [class.error]="firstName?.invalid && firstName?.touched"
          placeholder="John"
        >

        <label for="lastName" class="form-label">LastName</label>
        <input
          type="text"
          id="lastName"
          formControlName="lastName"
          class="form-input"
          [class.error]="lastName?.invalid && lastName?.touched"
          placeholder="Doe"
        >
        <div class="error-message" *ngIf="firstName?.invalid && firstName?.touched">
          <span *ngIf="firstName?.errors?.['required']">FirstName is required</span>
          <span *ngIf="firstName?.errors?.['minlength']">Name must be at least 3 characters</span>
        </div>
        <div class="error-message" *ngIf="lastName?.invalid && lastName?.touched">
          <span *ngIf="lastName?.errors?.['required']">LastName is required</span>
          <span *ngIf="lastName?.errors?.['minlength']">Name must be at least 3 characters</span>
        </div>

      </div>

      <!-- Phone Field -->
<div class="form-group">
  <label for="phone" class="form-label">Phone</label>
  <input
    type="text"
    id="phone"
    formControlName="phone"
    class="form-input"
    [class.error]="phone?.invalid && phone?.touched"
    placeholder="+237 6XX XXX XXX"
  >
  <div class="error-message" *ngIf="phone?.invalid && phone?.touched">
    <span *ngIf="phone?.errors?.['required']">Phone number is required</span>
    <span *ngIf="phone?.errors?.['pattern']">Please enter a valid phone number</span>
  </div>
</div>

<!-- Address Field -->
<div class="form-group">
  <label for="address" class="form-label">Address</label>
  <input
    type="text"
    id="address"
    formControlName="address"
    class="form-input"
    [class.error]="address?.invalid && address?.touched"
    placeholder="123 Main Street, City, Country"
  >
  <div class="error-message" *ngIf="address?.invalid && address?.touched">
    <span *ngIf="address?.errors?.['required']">Address is required</span>
  </div>
</div>


      <div class="form-group">
        <label for="email" class="form-label">Email</label>
        <input
          type="email"
          id="email"
          formControlName="email"
          class="form-input"
          [class.error]="email?.invalid && email?.touched"
          placeholder="you@example.com"
        >
        <div class="error-message" *ngIf="email?.invalid && email?.touched">
          <span *ngIf="email?.errors?.['required']">Email is required</span>
          <span *ngIf="email?.errors?.['email']">Please enter a valid email</span>
        </div>
      </div>

      <div class="form-group">
        <label for="password" class="form-label">Password</label>
        <input
          type="password"
          id="password"
          formControlName="password"
          class="form-input"
          [class.error]="password?.invalid && password?.touched"
          placeholder="••••••••"
        >
        <div class="error-message" *ngIf="password?.invalid && password?.touched">
          <span *ngIf="password?.errors?.['required']">Password is required</span>
          <span *ngIf="password?.errors?.['minlength']">Password must be at least 6 characters</span>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">I am registering as</label>
        
        <div class="radio-group">
          <label class="radio-option" [class.selected]="userType?.value === 'patient'">
            <input
              type="radio"
              formControlName="userType"
              value="patient"
            >
            <div class="radio-content">
              <span class="radio-title">Patient</span>
              <span class="radio-description">Manage my health records and connect with doctors</span>
            </div>
          </label>

          <label class="radio-option" [class.selected]="userType?.value === 'doctor'">
            <input
              type="radio"
              formControlName="userType"
              value="doctor"
            >
            <div class="radio-content">
              <span class="radio-title">Healthcare Professional</span>
              <span class="radio-description">Access patient records and manage consultations</span>
            </div>
          </label>
        </div>
      </div>

      <div class="error-message" *ngIf="errorMessage">
        {{ errorMessage }}
      </div>

      <button type="submit" class="btn-primary" [disabled]="loading">
        <span *ngIf="!loading">Sign Up</span>
        <span *ngIf="loading">Creating Account...</span>
      </button>

      <p class="auth-footer">
        Already have an account? 
        <a (click)="navigateToSignIn()"  class="link">Login</a>
      </p>
    </form>
  </div>
</div>